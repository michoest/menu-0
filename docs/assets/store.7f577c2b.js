import{a as m,c as k,h as I,g as B,r as C,A as L,j as g,o as w,B as R,M as b,C as x,O}from"./index.4ac13e51.js";import{a as o}from"./axios.ab682c6b.js";import{notify as c}from"./notify.f53d706a.js";const D={dark:{type:Boolean,default:null}};function T(e,t){return m(()=>e.dark===null?t.dark.isActive:e.dark)}const A={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},v={xs:2,sm:4,md:8,lg:16,xl:24};var P=k({name:"QSeparator",props:{...D,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=B(),s=T(e,t.proxy.$q),r=m(()=>e.vertical===!0?"vertical":"horizontal"),u=m(()=>` q-separator--${r.value}`),d=m(()=>e.inset!==!1?`${u.value}-${A[e.inset]}`:""),h=m(()=>`q-separator${u.value}${d.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(s.value===!0?" q-separator--dark":"")),p=m(()=>{const i={};if(e.size!==void 0&&(i[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const a=e.spaced===!0?`${v.md}px`:e.spaced in v?`${v[e.spaced]}px`:e.spaced,l=e.vertical===!0?["Left","Right"]:["Top","Bottom"];i[`margin${l[0]}`]=i[`margin${l[1]}`]=a}return i});return()=>I("hr",{class:h.value,style:p.value,"aria-orientation":r.value})}});let f,y=0;const n=new Array(256);for(let e=0;e<256;e++)n[e]=(e+256).toString(16).substring(1);const M=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const s=new Uint8Array(t);return e.getRandomValues(s),s}}return t=>{const s=[];for(let r=t;r>0;r--)s.push(Math.floor(Math.random()*256));return s}})(),E=4096;function j(){(f===void 0||y+16>E)&&(y=0,f=M(E));const e=Array.prototype.slice.call(f,y,y+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,n[e[0]]+n[e[1]]+n[e[2]]+n[e[3]]+"-"+n[e[4]]+n[e[5]]+"-"+n[e[6]]+n[e[7]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]}function q(){const e=C(!L.value);return e.value===!1&&g(()=>{e.value=!0}),{isHydrated:e}}const S=typeof ResizeObserver!="undefined",z=S===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var U=k({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let s=null,r,u={width:-1,height:-1};function d(i){i===!0||e.debounce===0||e.debounce==="0"?h():s===null&&(s=setTimeout(h,e.debounce))}function h(){if(s!==null&&(clearTimeout(s),s=null),r){const{offsetWidth:i,offsetHeight:a}=r;(i!==u.width||a!==u.height)&&(u={width:i,height:a},t("resize",u))}}const{proxy:p}=B();if(p.trigger=d,S===!0){let i;const a=l=>{r=p.$el.parentNode,r?(i=new ResizeObserver(d),i.observe(r),h()):l!==!0&&b(()=>{a(!0)})};return g(()=>{a()}),w(()=>{s!==null&&clearTimeout(s),i!==void 0&&(i.disconnect!==void 0?i.disconnect():r&&i.unobserve(r))}),R}else{let l=function(){s!==null&&(clearTimeout(s),s=null),a!==void 0&&(a.removeEventListener!==void 0&&a.removeEventListener("resize",d,x.passive),a=void 0)},$=function(){l(),r&&r.contentDocument&&(a=r.contentDocument.defaultView,a.addEventListener("resize",d,x.passive),h())};const{isHydrated:i}=q();let a;return g(()=>{b(()=>{r=p.$el,r&&$()})}),w(l),()=>{if(i.value===!0)return I("object",{class:"q--avoid-card-border",style:z.style,tabindex:-1,type:"text/html",data:z.url,"aria-hidden":"true",onLoad:$})}}}});const F=O("store",{state:()=>({status:"ok",user:"ro\xDFes",list:{items:[],showCompletedItems:!1},menu:{dishes:[],ingredients:[]},api:"https://menu-0.server.michoest.com"}),getters:{},actions:{async fetchList(){try{this.status="loading";const e=await o.get(`${this.api}/list`);this.list=e.data,this.status="ok"}catch(e){c(`Error: ${e}`,{type:"negative"})}},async fetchMenu(){try{this.status="loading";const e=await o.get(`${this.api}/menu`);this.menu=e.data,this.status="ok"}catch(e){c(`Error: ${e}`,{type:"negative"})}},async addItem(e){try{const t=await o.post(`${this.api}/list/item/`,e);return this.list=t.data.list,t.data.id}catch(t){return c(`Error: ${t}`,{type:"negative"}),null}},async saveItem(e){try{const t=await o.put(`${this.api}/list/item/${e.id}`,e);this.list=t.data}catch(t){c(`Error: ${t}`,{type:"negative"})}},async completeItem(e){try{const t=await o.post(`${this.api}/list/item/${e}/complete`);return this.list=t.data,!0}catch(t){c(`Error: ${t}`,{type:"negative"})}},async openItem(e){try{const t=await o.post(`${this.api}/list/item/${e}/open`);return this.list=t.data,!0}catch(t){c(`Error: ${t}`,{type:"negative"})}},async deleteItem(e){try{const t=await o.delete(`${this.api}/list/item/${e}`);return this.list=t.data,!0}catch(t){c(`Error: ${t}`,{type:"negative"})}},async addToList(e){try{const t=await o.post(`${this.api}/menu/`,{ingredients:e});return{list:this.list,menu:this.menu}=t.data,!0}catch(t){c(`Error: ${t}`,{type:"negative"})}},async clearList(){try{const e=await o.post(`${this.api}/list/clear`);return this.list=e.data,!0}catch(e){c(`Error: ${e}`,{type:"negative"})}},async deleteCompletedItems(){try{const e=await o.delete(`${this.api}/list/delete-completed-items`);return this.list=e.data,!0}catch(e){c(`Error: ${e}`,{type:"negative"})}},async showCompletedItems(e){try{const t=await o.post(`${this.api}/list/show-completed-items/${e}`);this.list.showCompletedItems=e}catch(t){c(`Error: ${t}`,{type:"negative"})}},async editDish(e){try{const t=await o.put(`${this.api}/menu/dish/${e.id}`,e),s=this.menu.dishes.find(r=>e.id==e.id);return this.menu.dishes.splice(s,1,t.data),!0}catch(t){c(`Error: ${t}`,{type:"negative"})}},async saveVendors(e){try{const t=await o.put(`${this.api}/menu/vendors`,e);return this.menu.ingredients=t.data,!0}catch(t){c(`Error: ${t}`,{type:"negative"})}},async checkAPI(){try{return await o.get(`${this.api}/ping`),!0}catch{return!1}}}});export{U as Q,F as a,P as b,D as c,T as d,j as u};
