import{j as v,k as w,l as b,n as N,p as s,o as m,q as y,Q as S,m as x}from"./QInput.d880d797.js";import{a as I,b as p}from"./store.fb019443.js";import{r as g,j as C,G as r,aG as P,J as e,I as t,av as B,aN as a,K as n,H as _,c0 as c,an as T}from"./index.28afdb71.js";import{Q as V}from"./QExpansionItem.0d11c015.js";import{Q as j}from"./QPage.0a54b52e.js";import{d as q}from"./dayjs.min.fbc14519.js";import{buildDate as A}from"./build-info.97f57154.js";import"./axios.ab682c6b.js";import"./notify.2c47ca2c.js";const M=Object.assign({name:"SettingsPage"},{__name:"settings.page",setup(D){const l=I(),i=g(!0),d=g(!1),u=async()=>{i.value=!0,d.value=await l.checkAPI(),i.value=!1};C(async()=>{await u(),i.value=!1});const k=async()=>{alert(1),"Notification"in window?Notification.permission==="granted"?new Notification("Hi there!"):Notification.permission!=="denied"?Notification.requestPermission().then(o=>{o==="granted"&&new Notification("Hi there!")}):alert(Notification.permission):alert("This browser does not support desktop notification")},Q=()=>{"geolocation"in navigator&&(alert(1),navigator.geolocation.getCurrentPosition.then(o=>{alert(2),console.log(o.coords.latitude,o.coords.longitude)}))};return(o,f)=>(r(),P(B,null,[e(v,{class:"q-my-sm bg-white text-primary"},{default:t(()=>[e(w,null,{default:t(()=>[e(b,{class:"text-center text-weight-bold"},{default:t(()=>[a(" Settings ")]),_:1})]),_:1}),e(p)]),_:1}),e(j,null,{default:t(()=>[e(N,{class:"q-pt-md"},{default:t(()=>[e(s,{header:""},{default:t(()=>[a("Backend")]),_:1}),e(m,null,{default:t(()=>[e(y,null,{default:t(()=>[e(S,{modelValue:n(l).api,"onUpdate:modelValue":f[0]||(f[0]=h=>n(l).api=h),placeholder:"API URL"},{append:t(()=>[i.value?(r(),_(x,{key:0,color:"primary",size:"sm"})):(r(),_(c,{key:1,round:"",dense:"",flat:"",icon:"network_check",color:d.value?"positive":"negative",onClick:u},null,8,["color"]))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{header:""},{default:t(()=>[a("Date of last build")]),_:1}),e(m,null,{default:t(()=>[e(s,null,{default:t(()=>[a(T(n(q)(n(A))),1)]),_:1})]),_:1}),e(p,{inset:"",spaced:"xl"}),e(V,{label:"Advanced","switch-toggle-side":""},{default:t(()=>[e(c,{onClick:k},{default:t(()=>[a("Send notification")]),_:1}),e(c,{onClick:Q},{default:t(()=>[a("Get location")]),_:1})]),_:1})]),_:1})]),_:1})],64))}});export{M as default};
