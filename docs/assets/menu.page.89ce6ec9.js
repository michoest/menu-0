import{r as O,a4 as At,g as te,i as bt,x as U,j as Ie,o as ue,a5 as Rt,a as x,a6 as Vt,a7 as Ze,s as $e,A as fe,C as Ft,D as It,h as p,a8 as pe,Q as re,a9 as $t,d as ne,aa as Be,m as Lt,ab as le,c as oe,ac as Ge,ad as Pt,u as yt,w as Ot,ae as Dt,af as zt,ag as Ht,ah as jt,ai as Qt,R as Nt,aj as Kt,ak as Ut,al as Xe,F as Zt,am as Yt,an as Wt,ao as Gt,B as se,ap as Xt,k as Jt,aq as en,ar as Je,as as tn,H as G,I as ae,J as L,K as I,W as Me,Y as Te,X as Ne,Z as J,_ as X,U as ve,a0 as et,M as Ee,at as nn,$ as Ke}from"./index.047a1eb8.js";import{b as pt,u as kt,a as xt,c as wt,g as Ae,f as ie,h as ee,k as ln,j as on,_ as Re,Q as Ct,i as tt,d as an,e as rn}from"./lodash.e39200ef.js";import{c as Le,b as Pe,u as un,Q as Ve,a as sn}from"./store.3996886f.js";import{Q as dn}from"./QPage.78403980.js";import{c as cn,b as fn,h as vn,a as mn,u as gn}from"./scroll.2ee2b143.js";import"./axios.ab682c6b.js";import"./notify.26cc0ef6.js";const nt=/^on[A-Z]/;function hn(){const{attrs:e,vnode:t}=te(),l={listeners:O({}),attributes:O({})};function n(){const a={},o={};for(const i in e)i!=="class"&&i!=="style"&&nt.test(i)===!1&&(a[i]=e[i]);for(const i in t.props)nt.test(i)===!0&&(o[i]=t.props[i]);l.attributes.value=a,l.listeners.value=o}return At(n),n(),l}function bn({validate:e,resetValidation:t,requiresQForm:l}){const n=bt(Rt,!1);if(n!==!1){const{props:a,proxy:o}=te();Object.assign(o,{validate:e,resetValidation:t}),U(()=>a.disable,i=>{i===!0?(typeof t=="function"&&t(),n.unbindComponent(o)):n.bindComponent(o)}),Ie(()=>{a.disable!==!0&&n.bindComponent(o)}),ue(()=>{a.disable!==!0&&n.unbindComponent(o)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const lt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,ot=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,at=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ce=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Se=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,De={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>lt.test(e),hexaColor:e=>ot.test(e),hexOrHexaColor:e=>at.test(e),rgbColor:e=>Ce.test(e),rgbaColor:e=>Se.test(e),rgbOrRgbaColor:e=>Ce.test(e)||Se.test(e),hexOrRgbColor:e=>lt.test(e)||Ce.test(e),hexaOrRgbaColor:e=>ot.test(e)||Se.test(e),anyColor:e=>at.test(e)||Ce.test(e)||Se.test(e)},yn=[!0,!1,"ondemand"],pn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>yn.includes(e)}};function kn(e,t){const{props:l,proxy:n}=te(),a=O(!1),o=O(null),i=O(!1);bn({validate:m,resetValidation:w});let b=0,C;const h=x(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),y=x(()=>l.disable!==!0&&h.value===!0&&t.value===!1),g=x(()=>l.error===!0||a.value===!0),S=x(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:o.value);U(()=>l.modelValue,()=>{i.value=!0,y.value===!0&&l.lazyRules===!1&&v()});function T(){l.lazyRules!=="ondemand"&&y.value===!0&&i.value===!0&&v()}U(()=>l.reactiveRules,_=>{_===!0?C===void 0&&(C=U(()=>l.rules,T,{immediate:!0,deep:!0})):C!==void 0&&(C(),C=void 0)},{immediate:!0}),U(()=>l.lazyRules,T),U(e,_=>{_===!0?i.value=!0:y.value===!0&&l.lazyRules!=="ondemand"&&v()});function w(){b++,t.value=!1,i.value=!1,a.value=!1,o.value=null,v.cancel()}function m(_=l.modelValue){if(l.disable===!0||h.value===!1)return!0;const E=++b,Z=t.value!==!0?()=>{i.value=!0}:()=>{},Q=(V,F)=>{V===!0&&Z(),a.value=V,o.value=F||null,t.value=!1},D=[];for(let V=0;V<l.rules.length;V++){const F=l.rules[V];let P;if(typeof F=="function"?P=F(_,De):typeof F=="string"&&De[F]!==void 0&&(P=De[F](_)),P===!1||typeof P=="string")return Q(!0,P),!1;P!==!0&&P!==void 0&&D.push(P)}return D.length===0?(Q(!1),!0):(t.value=!0,Promise.all(D).then(V=>{if(V===void 0||Array.isArray(V)===!1||V.length===0)return E===b&&Q(!1),!0;const F=V.find(P=>P===!1||typeof P=="string");return E===b&&Q(F!==void 0,F),F===void 0},V=>(E===b&&(console.error(V),Q(!0)),!1)))}const v=Vt(m,0);return ue(()=>{C!==void 0&&C(),v.cancel()}),Object.assign(n,{resetValidation:w,validate:m}),Ze(n,"hasError",()=>g.value),{isDirtyModel:i,hasRules:h,hasError:g,errorMessage:S,validate:m,resetValidation:w}}let me=[],we=[];function St(e){we=we.filter(t=>t!==e)}function xn(e){St(e),we.push(e)}function it(e){St(e),we.length===0&&me.length!==0&&(me[me.length-1](),me=[])}function Ye(e){we.length===0?e():me.push(e)}function wn(e){me=me.filter(t=>t!==e)}function Ue(e){return e!=null&&(""+e).length!==0}const Cn={...Pe,...pn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Sn={...Cn,maxlength:[Number,String]},qn=["update:modelValue","clear","focus","blur"];function _n({requiredForAttr:e=!0,tagProp:t,changeEvent:l=!1}={}){const{props:n,proxy:a}=te(),o=Le(n,a.$q),i=pt({required:e,getValue:()=>n.for});return{requiredForAttr:e,changeEvent:l,tag:t===!0?x(()=>n.tag):{value:"label"},isDark:o,editable:x(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:O(!1),focused:O(!1),hasPopupOpen:!1,splitAttrs:hn(),targetUid:i,rootRef:O(null),targetRef:O(null),controlRef:O(null)}}function Mn(e){const{props:t,emit:l,slots:n,attrs:a,proxy:o}=te(),{$q:i}=o;let b=null;e.hasValue===void 0&&(e.hasValue=x(()=>Ue(t.modelValue))),e.emitValue===void 0&&(e.emitValue=c=>{l("update:modelValue",c)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:d,onFocusout:s}),Object.assign(e,{clearValue:k,onControlFocusin:d,onControlFocusout:s,focus:F}),e.computedCounter===void 0&&(e.computedCounter=x(()=>{if(t.counter!==!1){const c=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,M=t.maxlength!==void 0?t.maxlength:t.maxValues;return c+(M!==void 0?" / "+M:"")}}));const{isDirtyModel:C,hasRules:h,hasError:y,errorMessage:g,resetValidation:S}=kn(e.focused,e.innerLoading),T=e.floatingLabel!==void 0?x(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):x(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),w=x(()=>t.bottomSlots===!0||t.hint!==void 0||h.value===!0||t.counter===!0||t.error!==null),m=x(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),v=x(()=>`q-field row no-wrap items-start q-field--${m.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(T.value===!0?" q-field--float":"")+(E.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(y.value===!0?" q-field--error":"")+(y.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&w.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),_=x(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(y.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),E=x(()=>t.labelSlot===!0||t.label!==void 0),Z=x(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&y.value!==!0?` text-${t.labelColor}`:"")),Q=x(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:T.value,modelValue:t.modelValue,emitValue:e.emitValue})),D=x(()=>{const c={};return e.targetUid.value&&(c.for=e.targetUid.value),t.disable===!0&&(c["aria-disabled"]="true"),c});function V(){const c=document.activeElement;let M=e.targetRef!==void 0&&e.targetRef.value;M&&(c===null||c.id!==e.targetUid.value)&&(M.hasAttribute("tabindex")===!0||(M=M.querySelector("[tabindex]")),M&&M!==c&&M.focus({preventScroll:!0}))}function F(){Ye(V)}function P(){wn(V);const c=document.activeElement;c!==null&&e.rootRef.value.contains(c)&&c.blur()}function d(c){b!==null&&(clearTimeout(b),b=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",c))}function s(c,M){b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",c)),M!==void 0&&M())})}function k(c){$e(c),i.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),e.changeEvent===!0&&l("change",null),l("clear",t.modelValue),fe(()=>{const M=C.value;S(),C.value=M})}function u(c){[13,32].includes(c.keyCode)&&k(c)}function R(){const c=[];return n.prepend!==void 0&&c.push(p("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:pe},n.prepend())),c.push(p("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},B())),y.value===!0&&t.noErrorIcon===!1&&c.push(A("error",[p(re,{name:i.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?c.push(A("inner-loading-append",n.loading!==void 0?n.loading():[p($t,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&c.push(A("inner-clearable-append",[p(re,{class:"q-field__focusable-action",name:t.clearIcon||i.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":i.lang.label.clear,onKeyup:u,onClick:k})])),n.append!==void 0&&c.push(p("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:pe},n.append())),e.getInnerAppend!==void 0&&c.push(A("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&c.push(e.getControlChild()),c}function B(){const c=[];return t.prefix!==void 0&&t.prefix!==null&&c.push(p("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&c.push(e.getShadowControl()),e.getControl!==void 0?c.push(e.getControl()):n.rawControl!==void 0?c.push(n.rawControl()):n.control!==void 0&&c.push(p("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(Q.value))),E.value===!0&&c.push(p("div",{class:Z.value},ne(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&c.push(p("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),c.concat(ne(n.default))}function z(){let c,M;y.value===!0?g.value!==null?(c=[p("div",{role:"alert"},g.value)],M=`q--slot-error-${g.value}`):(c=ne(n.error),M="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(c=[p("div",t.hint)],M=`q--slot-hint-${t.hint}`):(c=ne(n.hint),M="q--slot-hint"));const $=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&$===!1&&c===void 0)return;const H=p("div",{key:M,class:"q-field__messages col"},c);return p("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:pe},[t.hideBottomSpace===!0?H:p(Be,{name:"q-transition--field-message"},()=>H),$===!0?p("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function A(c,M){return M===null?null:p("div",{key:c,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},M)}let f=!1;return Ft(()=>{f=!0}),It(()=>{f===!0&&t.autofocus===!0&&o.focus()}),t.autofocus===!0&&Ie(()=>{o.focus()}),ue(()=>{b!==null&&clearTimeout(b)}),Object.assign(o,{focus:F,blur:P}),function(){const M=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...D.value}:D.value;return p(e.tag.value,{ref:e.rootRef,class:[v.value,a.class],style:a.style,...M},[n.before!==void 0?p("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:pe},n.before()):null,p("div",{class:"q-field__inner relative-position col self-stretch"},[p("div",{ref:e.controlRef,class:_.value,tabindex:-1,...e.controlEvents},R()),w.value===!0?z():null]),n.after!==void 0?p("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:pe},n.after()):null])}}const rt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Fe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},qt=Object.keys(Fe);qt.forEach(e=>{Fe[e].regex=new RegExp(Fe[e].pattern)});const Tn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+qt.join("")+"])|(.)","g"),ut=/[.*+?^${}()|[\]\\]/g,K=String.fromCharCode(1),En={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Bn(e,t,l,n){let a,o,i,b,C,h;const y=O(null),g=O(T());function S(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}U(()=>e.type+e.autogrow,m),U(()=>e.mask,d=>{if(d!==void 0)v(g.value,!0);else{const s=F(g.value);m(),e.modelValue!==s&&t("update:modelValue",s)}}),U(()=>e.fillMask+e.reverseFillMask,()=>{y.value===!0&&v(g.value,!0)}),U(()=>e.unmaskedValue,()=>{y.value===!0&&v(g.value)});function T(){if(m(),y.value===!0){const d=D(F(e.modelValue));return e.fillMask!==!1?P(d):d}return e.modelValue}function w(d){if(d<a.length)return a.slice(-d);let s="",k=a;const u=k.indexOf(K);if(u!==-1){for(let R=d-k.length;R>0;R--)s+=K;k=k.slice(0,u)+s+k.slice(u)}return k}function m(){if(y.value=e.mask!==void 0&&e.mask.length!==0&&S(),y.value===!1){b=void 0,a="",o="";return}const d=rt[e.mask]===void 0?e.mask:rt[e.mask],s=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",k=s.replace(ut,"\\$&"),u=[],R=[],B=[];let z=e.reverseFillMask===!0,A="",f="";d.replace(Tn,(H,r,j,Y,W)=>{if(Y!==void 0){const q=Fe[Y];B.push(q),f=q.negate,z===!0&&(R.push("(?:"+f+"+)?("+q.pattern+"+)?(?:"+f+"+)?("+q.pattern+"+)?"),z=!1),R.push("(?:"+f+"+)?("+q.pattern+")?")}else if(j!==void 0)A="\\"+(j==="\\"?"":j),B.push(j),u.push("([^"+A+"]+)?"+A+"?");else{const q=r!==void 0?r:W;A=q==="\\"?"\\\\\\\\":q.replace(ut,"\\\\$&"),B.push(q),u.push("([^"+A+"]+)?"+A+"?")}});const c=new RegExp("^"+u.join("")+"("+(A===""?".":"[^"+A+"]")+"+)?"+(A===""?"":"["+A+"]*")+"$"),M=R.length-1,$=R.map((H,r)=>r===0&&e.reverseFillMask===!0?new RegExp("^"+k+"*"+H):r===M?new RegExp("^"+H+"("+(f===""?".":f)+"+)?"+(e.reverseFillMask===!0?"$":k+"*")):new RegExp("^"+H));i=B,b=H=>{const r=c.exec(e.reverseFillMask===!0?H:H.slice(0,B.length+1));r!==null&&(H=r.slice(1).join(""));const j=[],Y=$.length;for(let W=0,q=H;W<Y;W++){const N=$[W].exec(q);if(N===null)break;q=q.slice(N.shift().length),j.push(...N)}return j.length!==0?j.join(""):H},a=B.map(H=>typeof H=="string"?H:K).join(""),o=a.split(K).join(s)}function v(d,s,k){const u=n.value,R=u.selectionEnd,B=u.value.length-R,z=F(d);s===!0&&m();const A=D(z),f=e.fillMask!==!1?P(A):A,c=g.value!==f;u.value!==f&&(u.value=f),c===!0&&(g.value=f),document.activeElement===u&&fe(()=>{if(f===o){const $=e.reverseFillMask===!0?o.length:0;u.setSelectionRange($,$,"forward");return}if(k==="insertFromPaste"&&e.reverseFillMask!==!0){const $=u.selectionEnd;let H=R-1;for(let r=C;r<=H&&r<$;r++)a[r]!==K&&H++;E.right(u,H);return}if(["deleteContentBackward","deleteContentForward"].indexOf(k)!==-1){const $=e.reverseFillMask===!0?R===0?f.length>A.length?1:0:Math.max(0,f.length-(f===o?0:Math.min(A.length,B)+1))+1:R;u.setSelectionRange($,$,"forward");return}if(e.reverseFillMask===!0)if(c===!0){const $=Math.max(0,f.length-(f===o?0:Math.min(A.length,B+1)));$===1&&R===1?u.setSelectionRange($,$,"forward"):E.rightReverse(u,$)}else{const $=f.length-B;u.setSelectionRange($,$,"backward")}else if(c===!0){const $=Math.max(0,a.indexOf(K),Math.min(A.length,R)-1);E.right(u,$)}else{const $=R-1;E.right(u,$)}});const M=e.unmaskedValue===!0?F(f):f;String(e.modelValue)!==M&&(e.modelValue!==null||M!=="")&&l(M,!0)}function _(d,s,k){const u=D(F(d.value));s=Math.max(0,a.indexOf(K),Math.min(u.length,s)),C=s,d.setSelectionRange(s,k,"forward")}const E={left(d,s){const k=a.slice(s-1).indexOf(K)===-1;let u=Math.max(0,s-1);for(;u>=0;u--)if(a[u]===K){s=u,k===!0&&s++;break}if(u<0&&a[s]!==void 0&&a[s]!==K)return E.right(d,0);s>=0&&d.setSelectionRange(s,s,"backward")},right(d,s){const k=d.value.length;let u=Math.min(k,s+1);for(;u<=k;u++)if(a[u]===K){s=u;break}else a[u-1]===K&&(s=u);if(u>k&&a[s-1]!==void 0&&a[s-1]!==K)return E.left(d,k);d.setSelectionRange(s,s,"forward")},leftReverse(d,s){const k=w(d.value.length);let u=Math.max(0,s-1);for(;u>=0;u--)if(k[u-1]===K){s=u;break}else if(k[u]===K&&(s=u,u===0))break;if(u<0&&k[s]!==void 0&&k[s]!==K)return E.rightReverse(d,0);s>=0&&d.setSelectionRange(s,s,"backward")},rightReverse(d,s){const k=d.value.length,u=w(k),R=u.slice(0,s+1).indexOf(K)===-1;let B=Math.min(k,s+1);for(;B<=k;B++)if(u[B-1]===K){s=B,s>0&&R===!0&&s--;break}if(B>k&&u[s-1]!==void 0&&u[s-1]!==K)return E.leftReverse(d,k);d.setSelectionRange(s,s,"forward")}};function Z(d){t("click",d),h=void 0}function Q(d){if(t("keydown",d),Lt(d)===!0||d.altKey===!0)return;const s=n.value,k=s.selectionStart,u=s.selectionEnd;if(d.shiftKey||(h=void 0),d.keyCode===37||d.keyCode===39){d.shiftKey&&h===void 0&&(h=s.selectionDirection==="forward"?k:u);const R=E[(d.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(d.preventDefault(),R(s,h===k?u:k),d.shiftKey){const B=s.selectionStart;s.setSelectionRange(Math.min(h,B),Math.max(h,B),"forward")}}else d.keyCode===8&&e.reverseFillMask!==!0&&k===u?(E.left(s,k),s.setSelectionRange(s.selectionStart,u,"backward")):d.keyCode===46&&e.reverseFillMask===!0&&k===u&&(E.rightReverse(s,u),s.setSelectionRange(k,s.selectionEnd,"forward"))}function D(d){if(d==null||d==="")return"";if(e.reverseFillMask===!0)return V(d);const s=i;let k=0,u="";for(let R=0;R<s.length;R++){const B=d[k],z=s[R];if(typeof z=="string")u+=z,B===z&&k++;else if(B!==void 0&&z.regex.test(B))u+=z.transform!==void 0?z.transform(B):B,k++;else return u}return u}function V(d){const s=i,k=a.indexOf(K);let u=d.length-1,R="";for(let B=s.length-1;B>=0&&u!==-1;B--){const z=s[B];let A=d[u];if(typeof z=="string")R=z+R,A===z&&u--;else if(A!==void 0&&z.regex.test(A))do R=(z.transform!==void 0?z.transform(A):A)+R,u--,A=d[u];while(k===B&&A!==void 0&&z.regex.test(A));else return R}return R}function F(d){return typeof d!="string"||b===void 0?typeof d=="number"?b(""+d):d:b(d)}function P(d){return o.length-d.length<=0?d:e.reverseFillMask===!0&&d.length!==0?o.slice(0,-d.length)+d:d+o.slice(d.length)}return{innerValue:g,hasMask:y,moveCursorForPaste:_,updateMaskValue:v,onMaskedKeydown:Q,onMaskedClick:Z}}const An={name:String};function Rn(e){return x(()=>e.name||e.for)}function Vn(e,t){function l(){const n=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(o=>{a.items.add(o)}),{files:a.files}}catch{return{files:void 0}}}return t===!0?x(()=>{if(e.type==="file")return l()}):x(l)}const Fn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,In=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,$n=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Ln=/[a-z0-9_ -]$/i;function Pn(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(le.is.firefox===!0?Ln.test(l.data)===!1:Fn.test(l.data)===!0||In.test(l.data)===!0||$n.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}var On=oe({name:"QInput",inheritAttrs:!1,props:{...Sn,...En,...An,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...qn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:n}=te(),{$q:a}=n,o={};let i=NaN,b,C,h=null,y;const g=O(null),S=Rn(e),{innerValue:T,hasMask:w,moveCursorForPaste:m,updateMaskValue:v,onMaskedKeydown:_,onMaskedClick:E}=Bn(e,t,A,g),Z=Vn(e,!0),Q=x(()=>Ue(T.value)),D=Pn(B),V=_n({changeEvent:!0}),F=x(()=>e.type==="textarea"||e.autogrow===!0),P=x(()=>F.value===!0||["text","search","url","tel","password"].includes(e.type)),d=x(()=>{const r={...V.splitAttrs.listeners.value,onInput:B,onPaste:R,onChange:c,onBlur:M,onFocus:Ge};return r.onCompositionstart=r.onCompositionupdate=r.onCompositionend=D,w.value===!0&&(r.onKeydown=_,r.onClick=E),e.autogrow===!0&&(r.onAnimationend=z),r}),s=x(()=>{const r={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:S.value,...V.splitAttrs.attributes.value,id:V.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return F.value===!1&&(r.type=e.type),e.autogrow===!0&&(r.rows=1),r});U(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),U(()=>e.modelValue,r=>{if(w.value===!0){if(C===!0&&(C=!1,String(r)===i))return;v(r)}else T.value!==r&&(T.value=r,e.type==="number"&&o.hasOwnProperty("value")===!0&&(b===!0?b=!1:delete o.value));e.autogrow===!0&&fe(f)}),U(()=>e.autogrow,r=>{r===!0?fe(f):g.value!==null&&l.rows>0&&(g.value.style.height="auto")}),U(()=>e.dense,()=>{e.autogrow===!0&&fe(f)});function k(){Ye(()=>{const r=document.activeElement;g.value!==null&&g.value!==r&&(r===null||r.id!==V.targetUid.value)&&g.value.focus({preventScroll:!0})})}function u(){g.value!==null&&g.value.select()}function R(r){if(w.value===!0&&e.reverseFillMask!==!0){const j=r.target;m(j,j.selectionStart,j.selectionEnd)}t("paste",r)}function B(r){if(!r||!r.target)return;if(e.type==="file"){t("update:modelValue",r.target.files);return}const j=r.target.value;if(r.target.qComposing===!0){o.value=j;return}if(w.value===!0)v(j,!1,r.inputType);else if(A(j),P.value===!0&&r.target===document.activeElement){const{selectionStart:Y,selectionEnd:W}=r.target;Y!==void 0&&W!==void 0&&fe(()=>{r.target===document.activeElement&&j.indexOf(r.target.value)===0&&r.target.setSelectionRange(Y,W)})}e.autogrow===!0&&f()}function z(r){t("animationend",r),f()}function A(r,j){y=()=>{h=null,e.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,e.modelValue!==r&&i!==r&&(i=r,j===!0&&(C=!0),t("update:modelValue",r),fe(()=>{i===r&&(i=NaN)})),y=void 0},e.type==="number"&&(b=!0,o.value=r),e.debounce!==void 0?(h!==null&&clearTimeout(h),o.value=r,h=setTimeout(y,e.debounce)):y()}function f(){requestAnimationFrame(()=>{const r=g.value;if(r!==null){const j=r.parentNode.style,{scrollTop:Y}=r,{overflowY:W,maxHeight:q}=a.platform.is.firefox===!0?{}:window.getComputedStyle(r),N=W!==void 0&&W!=="scroll";N===!0&&(r.style.overflowY="hidden"),j.marginBottom=r.scrollHeight-1+"px",r.style.height="1px",r.style.height=r.scrollHeight+"px",N===!0&&(r.style.overflowY=parseInt(q,10)<r.scrollHeight?"auto":"hidden"),j.marginBottom="",r.scrollTop=Y}})}function c(r){D(r),h!==null&&(clearTimeout(h),h=null),y!==void 0&&y(),t("change",r.target.value)}function M(r){r!==void 0&&Ge(r),h!==null&&(clearTimeout(h),h=null),y!==void 0&&y(),b=!1,C=!1,delete o.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=T.value!==void 0?T.value:"")})}function $(){return o.hasOwnProperty("value")===!0?o.value:T.value!==void 0?T.value:""}ue(()=>{M()}),Ie(()=>{e.autogrow===!0&&f()}),Object.assign(V,{innerValue:T,fieldClass:x(()=>`q-${F.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:x(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:A,hasValue:Q,floatingLabel:x(()=>Q.value===!0&&(e.type!=="number"||isNaN(T.value)===!1)||Ue(e.displayValue)),getControl:()=>p(F.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...s.value,...d.value,...e.type!=="file"?{value:$()}:Z.value}),getShadowControl:()=>p("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(F.value===!0?"":" text-no-wrap")},[p("span",{class:"invisible"},$()),p("span",e.shadowText)])});const H=Mn(V);return Object.assign(n,{focus:k,select:u,getNativeElement:()=>g.value}),Ze(n,"nativeEl",()=>g.value),H}}),_t=oe({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const l=x(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>p(e.tag,{class:l.value},ne(t.default))}}),Mt=oe({name:"QCard",props:{...Pe,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=te(),n=Le(e,l),a=x(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>p(e.tag,{class:a.value},ne(t.default))}}),Dn=oe({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:l}){let n=!1,a,o,i=null,b=null,C,h;function y(){a&&a(),a=null,n=!1,i!==null&&(clearTimeout(i),i=null),b!==null&&(clearTimeout(b),b=null),o!==void 0&&o.removeEventListener("transitionend",C),C=null}function g(m,v,_){v!==void 0&&(m.style.height=`${v}px`),m.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,n=!0,a=_}function S(m,v){m.style.overflowY=null,m.style.height=null,m.style.transition=null,y(),v!==h&&l(v)}function T(m,v){let _=0;o=m,n===!0?(y(),_=m.offsetHeight===m.scrollHeight?0:void 0):(h="hide",m.style.overflowY="hidden"),g(m,_,v),i=setTimeout(()=>{i=null,m.style.height=`${m.scrollHeight}px`,C=E=>{b=null,(Object(E)!==E||E.target===m)&&S(m,"show")},m.addEventListener("transitionend",C),b=setTimeout(C,e.duration*1.1)},100)}function w(m,v){let _;o=m,n===!0?y():(h="show",m.style.overflowY="hidden",_=m.scrollHeight),g(m,_,v),i=setTimeout(()=>{i=null,m.style.height=0,C=E=>{b=null,(Object(E)!==E||E.target===m)&&S(m,"hide")},m.addEventListener("transitionend",C),b=setTimeout(C,e.duration*1.1)},100)}return ue(()=>{n===!0&&y()}),()=>p(Be,{css:!1,appear:e.appear,onEnter:T,onLeave:w},t.default)}});const de=Pt({}),zn=Object.keys(yt);var Hn=oe({name:"QExpansionItem",props:{...yt,...kt,...Pe,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...xt,"click","afterShow","afterHide"],setup(e,{slots:t,emit:l}){const{proxy:{$q:n}}=te(),a=Le(e,n),o=O(e.modelValue!==null?e.modelValue:e.defaultOpened),i=O(null),b=pt(),{show:C,hide:h,toggle:y}=wt({showing:o});let g,S;const T=x(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),w=x(()=>{if(e.contentInsetLevel===void 0)return null;const f=n.lang.rtl===!0?"Right":"Left";return{["padding"+f]:e.contentInsetLevel*56+"px"}}),m=x(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),v=x(()=>{const f={};return zn.forEach(c=>{f[c]=e[c]}),f}),_=x(()=>m.value===!0||e.expandIconToggle!==!0),E=x(()=>e.expandedIcon!==void 0&&o.value===!0?e.expandedIcon:e.expandIcon||n.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),Z=x(()=>e.disable!==!0&&(m.value===!0||e.expandIconToggle===!0)),Q=x(()=>({expanded:o.value===!0,detailsId:b.value,toggle:y,show:C,hide:h})),D=x(()=>{const f=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:n.lang.label[o.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":b.value,"aria-label":f}});U(()=>e.group,f=>{S!==void 0&&S(),f!==void 0&&k()});function V(f){m.value!==!0&&y(f),l("click",f)}function F(f){f.keyCode===13&&P(f,!0)}function P(f,c){c!==!0&&i.value!==null&&i.value.focus(),y(f),$e(f)}function d(){l("afterShow")}function s(){l("afterHide")}function k(){g===void 0&&(g=un()),o.value===!0&&(de[e.group]=g);const f=U(o,M=>{M===!0?de[e.group]=g:de[e.group]===g&&delete de[e.group]}),c=U(()=>de[e.group],(M,$)=>{$===g&&M!==void 0&&M!==g&&h()});S=()=>{f(),c(),de[e.group]===g&&delete de[e.group],S=void 0}}function u(){const f={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},c=[p(re,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:E.value})];return Z.value===!0&&(Object.assign(f,{tabindex:0,...D.value,onClick:P,onKeyup:F}),c.unshift(p("div",{ref:i,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),p(ee,f,()=>c)}function R(){let f;return t.header!==void 0?f=[].concat(t.header(Q.value)):(f=[p(ee,()=>[p(ie,{lines:e.labelLines},()=>e.label||""),e.caption?p(ie,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&f[e.switchToggleSide===!0?"push":"unshift"](p(ee,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>p(re,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&f[e.switchToggleSide===!0?"unshift":"push"](u()),f}function B(){const f={ref:"item",style:e.headerStyle,class:e.headerClass,dark:a.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return _.value===!0&&(f.clickable=!0,f.onClick=V,Object.assign(f,m.value===!0?v.value:D.value)),p(Ae,f,R)}function z(){return Ot(p("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:w.value,id:b.value},ne(t.default)),[[Dt,o.value]])}function A(){const f=[B(),p(Dn,{duration:e.duration,onShow:d,onHide:s},z)];return e.expandSeparator===!0&&f.push(p(Ve,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:a.value}),p(Ve,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:a.value})),f}return e.group!==void 0&&k(),ue(()=>{S!==void 0&&S()}),()=>p("div",{class:T.value},[p("div",{class:"q-expansion-item__container relative-position"},A())])}});const jn={xs:8,sm:10,md:14,lg:20,xl:24};var Qn=oe({name:"QChip",props:{...Pe,...zt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:l}){const{proxy:{$q:n}}=te(),a=Le(e,n),o=Ht(e,jn),i=x(()=>e.selected===!0||e.icon!==void 0),b=x(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),C=x(()=>e.iconRemove||n.iconSet.chip.remove),h=x(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),y=x(()=>{const v=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(v?` text-${v} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(h.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),g=x(()=>{const v=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},_={...v,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:v,remove:_}});function S(v){v.keyCode===13&&T(v)}function T(v){e.disable||(l("update:selected",!e.selected),l("click",v))}function w(v){(v.keyCode===void 0||v.keyCode===13)&&($e(v),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function m(){const v=[];h.value===!0&&v.push(p("div",{class:"q-focus-helper"})),i.value===!0&&v.push(p(re,{class:"q-chip__icon q-chip__icon--left",name:b.value}));const _=e.label!==void 0?[p("div",{class:"ellipsis"},[e.label])]:void 0;return v.push(p("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Qt(t.default,_))),e.iconRight&&v.push(p(re,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&v.push(p(re,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:C.value,...g.value.remove,onClick:w,onKeyup:w})),v}return()=>{if(e.modelValue===!1)return;const v={class:y.value,style:o.value};return h.value===!0&&Object.assign(v,g.value.chip,{onClick:T,onKeyup:S}),jt("div",v,m(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Nt,e.ripple]])}}}),Nn=oe({name:"QCardActions",props:{...Kt,vertical:Boolean},setup(e,{slots:t}){const l=Ut(e),n=x(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>p("div",{class:n.value},ne(t.default))}});function Kn(e,t,l){let n;function a(){n!==void 0&&(Xe.remove(n),n=void 0)}return ue(()=>{e.value===!0&&a()}),{removeFromHistory:a,addToHistory(){n={condition:()=>l.value===!0,handler:t},Xe.add(n)}}}const Un={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Zn(e,t=()=>{},l=()=>{}){return{transitionProps:x(()=>{const n=`q-transition--${e.transitionShow||t()}`,a=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:x(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const ze=[],Yn=oe({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Wn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Gn(e,t,l,n){const a=O(!1),o=O(!1);let i=null;const b={},C=n==="dialog"&&Wn(e);function h(g){if(g===!0){it(b),o.value=!0;return}o.value=!1,a.value===!1&&(C===!1&&i===null&&(i=Wt(!1,n)),a.value=!0,ze.push(e.proxy),xn(b))}function y(g){if(o.value=!1,g!==!0)return;it(b),a.value=!1;const S=ze.indexOf(e.proxy);S!==-1&&ze.splice(S,1),i!==null&&(Gt(i),i=null)}return Zt(()=>{y(!0)}),e.proxy.__qPortal=!0,Ze(e.proxy,"contentEl",()=>t.value),{showPortal:h,hidePortal:y,portalIsActive:a,portalIsAccessible:o,renderPortal:()=>C===!0?l():a.value===!0?[p(Yt,{to:i},p(Yn,l))]:void 0}}let ke=0,He,je,xe,Qe=!1,st,dt,ct,ce=null;function Xn(e){Jn(e)&&$e(e)}function Jn(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=Xt(e),l=e.shiftKey&&!e.deltaX,n=!l&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),a=l||n?e.deltaY:e.deltaX;for(let o=0;o<t.length;o++){const i=t[o];if(vn(i,n))return n?a<0&&i.scrollTop===0?!0:a>0&&i.scrollTop+i.clientHeight===i.scrollHeight:a<0&&i.scrollLeft===0?!0:a>0&&i.scrollLeft+i.clientWidth===i.scrollWidth}return!0}function ft(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function qe(e){Qe!==!0&&(Qe=!0,requestAnimationFrame(()=>{Qe=!1;const{height:t}=e.target,{clientHeight:l,scrollTop:n}=document.scrollingElement;(xe===void 0||t!==window.innerHeight)&&(xe=l-t,document.scrollingElement.scrollTop=n),n>xe&&(document.scrollingElement.scrollTop-=Math.ceil((n-xe)/8))}))}function vt(e){const t=document.body,l=window.visualViewport!==void 0;if(e==="add"){const{overflowY:n,overflowX:a}=window.getComputedStyle(t);He=cn(window),je=fn(window),st=t.style.left,dt=t.style.top,ct=window.location.href,t.style.left=`-${He}px`,t.style.top=`-${je}px`,a!=="hidden"&&(a==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),n!=="hidden"&&(n==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,le.is.ios===!0&&(l===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",qe,se.passiveCapture),window.visualViewport.addEventListener("scroll",qe,se.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",ft,se.passiveCapture))}le.is.desktop===!0&&le.is.mac===!0&&window[`${e}EventListener`]("wheel",Xn,se.notPassive),e==="remove"&&(le.is.ios===!0&&(l===!0?(window.visualViewport.removeEventListener("resize",qe,se.passiveCapture),window.visualViewport.removeEventListener("scroll",qe,se.passiveCapture)):window.removeEventListener("scroll",ft,se.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=st,t.style.top=dt,window.location.href===ct&&window.scrollTo(He,je),xe=void 0)}function el(e){let t="add";if(e===!0){if(ke++,ce!==null){clearTimeout(ce),ce=null;return}if(ke>1)return}else{if(ke===0||(ke--,ke>0))return;if(t="remove",le.is.ios===!0&&le.is.nativeMobile===!0){ce!==null&&clearTimeout(ce),ce=setTimeout(()=>{vt(t),ce=null},100);return}}vt(t)}function tl(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,el(t))}}}const ge=[];let ye;function nl(e){ye=e.keyCode===27}function ll(){ye===!0&&(ye=!1)}function ol(e){ye===!0&&(ye=!1,Jt(e,27)===!0&&ge[ge.length-1](e))}function Tt(e){window[e]("keydown",nl),window[e]("blur",ll),window[e]("keyup",ol),ye=!1}function al(e){le.is.desktop===!0&&(ge.push(e),ge.length===1&&Tt("addEventListener"))}function mt(e){const t=ge.indexOf(e);t!==-1&&(ge.splice(t,1),ge.length===0&&Tt("removeEventListener"))}const he=[];function Et(e){he[he.length-1](e)}function il(e){le.is.desktop===!0&&(he.push(e),he.length===1&&document.body.addEventListener("focusin",Et))}function gt(e){const t=he.indexOf(e);t!==-1&&(he.splice(t,1),he.length===0&&document.body.removeEventListener("focusin",Et))}let _e=0;const rl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ht={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var ul=oe({name:"QDialog",inheritAttrs:!1,props:{...kt,...Un,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...xt,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){const a=te(),o=O(null),i=O(!1),b=O(!1);let C=null,h=null,y,g;const S=x(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:T}=tl(),{registerTimeout:w}=mn(),{registerTick:m,removeTick:v}=gn(),{transitionProps:_,transitionStyle:E}=Zn(e,()=>ht[e.position][0],()=>ht[e.position][1]),Z=x(()=>E.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:Q,hidePortal:D,portalIsAccessible:V,renderPortal:F}=Gn(a,o,W,"dialog"),{hide:P}=wt({showing:i,hideOnRouteChange:S,handleShow:z,handleHide:A,processOnMount:!0}),{addToHistory:d,removeFromHistory:s}=Kn(i,P,S),k=x(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${rl[e.position]}`+(b.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),u=x(()=>i.value===!0&&e.seamless!==!0),R=x(()=>e.autoClose===!0?{onClick:r}:{}),B=x(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${u.value===!0?"modal":"seamless"}`,n.class]);U(()=>e.maximized,q=>{i.value===!0&&H(q)}),U(u,q=>{T(q),q===!0?(il(Y),al(M)):(gt(Y),mt(M))});function z(q){d(),h=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,H(e.maximized),Q(),b.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),m(f)):v(),w(()=>{if(a.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:N,bottom:be}=document.activeElement.getBoundingClientRect(),{innerHeight:We}=window,Oe=window.visualViewport!==void 0?window.visualViewport.height:We;N>0&&be>Oe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Oe,be>=We?1/0:Math.ceil(document.scrollingElement.scrollTop+be-Oe/2))),document.activeElement.scrollIntoView()}g=!0,o.value.click(),g=!1}Q(!0),b.value=!1,l("show",q)},e.transitionDuration)}function A(q){v(),s(),$(!0),b.value=!0,D(),h!==null&&(((q&&q.type.indexOf("key")===0?h.closest('[tabindex]:not([tabindex^="-"])'):void 0)||h).focus(),h=null),w(()=>{D(!0),b.value=!1,l("hide",q)},e.transitionDuration)}function f(q){Ye(()=>{let N=o.value;if(N!==null){if(q!==void 0){const be=N.querySelector(q);if(be!==null){be.focus({preventScroll:!0});return}}N.contains(document.activeElement)!==!0&&(N=N.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||N.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||N.querySelector("[autofocus], [data-autofocus]")||N,N.focus({preventScroll:!0}))}})}function c(q){q&&typeof q.focus=="function"?q.focus({preventScroll:!0}):f(),l("shake");const N=o.value;N!==null&&(N.classList.remove("q-animate--scale"),N.classList.add("q-animate--scale"),C!==null&&clearTimeout(C),C=setTimeout(()=>{C=null,o.value!==null&&(N.classList.remove("q-animate--scale"),f())},170))}function M(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&c():(l("escapeKey"),P()))}function $(q){C!==null&&(clearTimeout(C),C=null),(q===!0||i.value===!0)&&(H(!1),e.seamless!==!0&&(T(!1),gt(Y),mt(M))),q!==!0&&(h=null)}function H(q){q===!0?y!==!0&&(_e<1&&document.body.classList.add("q-body--dialog"),_e++,y=!0):y===!0&&(_e<2&&document.body.classList.remove("q-body--dialog"),_e--,y=!1)}function r(q){g!==!0&&(P(q),l("click",q))}function j(q){e.persistent!==!0&&e.noBackdropDismiss!==!0?P(q):e.noShake!==!0&&c()}function Y(q){e.allowFocusOutside!==!0&&V.value===!0&&en(o.value,q.target)!==!0&&f('[tabindex]:not([tabindex="-1"])')}Object.assign(a.proxy,{focus:f,shake:c,__updateRefocusTarget(q){h=q||null}}),ue($);function W(){return p("div",{role:"dialog","aria-modal":u.value===!0?"true":"false",...n,class:B.value},[p(Be,{name:"q-transition--fade",appear:!0},()=>u.value===!0?p("div",{class:"q-dialog__backdrop fixed-full",style:Z.value,"aria-hidden":"true",tabindex:-1,onClick:j}):null),p(Be,_.value,()=>i.value===!0?p("div",{ref:o,class:k.value,style:E.value,tabindex:-1,...R.value},ne(t.default)):null)])}return F}}),Bt={exports:{}};(function(e,t){(function(l,n){e.exports=n()})(ln,function(){return function(l,n,a){l=l||{};var o=n.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function b(h,y,g,S){return o.fromToBase(h,y,g,S)}a.en.relativeTime=i,o.fromToBase=function(h,y,g,S,T){for(var w,m,v,_=g.$locale().relativeTime||i,E=l.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],Z=E.length,Q=0;Q<Z;Q+=1){var D=E[Q];D.d&&(w=S?a(h).diff(g,D.d,!0):g.diff(h,D.d,!0));var V=(l.rounding||Math.round)(Math.abs(w));if(v=w>0,V<=D.r||!D.r){V<=1&&Q>0&&(D=E[Q-1]);var F=_[D.l];T&&(V=T(""+V)),m=typeof F=="string"?F.replace("%d",V):F(V,y,D.l,v);break}}if(y)return m;var P=v?_.future:_.past;return typeof P=="function"?P(m):P.replace("%s",m)},o.to=function(h,y){return b(h,y,this,!0)},o.from=function(h,y){return b(h,y,this)};var C=function(h){return h.$u?a.utc():a()};o.toNow=function(h){return this.to(C(this),h)},o.fromNow=function(h){return this.from(C(this),h)}}})})(Bt);var sl=Bt.exports;const dl={__name:"chooseIngredients.dialog.component",props:Je({dishes:Array},{modelValue:{},modelModifiers:{}}),emits:Je(["add"],["update:modelValue"]),setup(e,{emit:t}){on.extend(sl);const l=tn(e,"modelValue"),n=e,a=t,o=O(Re.cloneDeep(n.dishes));O(null);const i=O({show:!1}),b=O({show:!1,dish:null,ingredient:{}}),C=O({show:!1,dish:null,ingredient:null});U(()=>n.dishes,w=>{o.value=Re.cloneDeep(w)});const h=()=>{const w=o.value.flatMap(m=>m.dish.ingredients);a("add",w),l.value=!1},y=w=>{b.value.dish=w,b.value.show=!0},g=(w,m,v)=>{C.value.dish=w,C.value.ingredient=m,C.value.show=!0},S=async(w,m)=>{w.dish.ingredients.splice(m,1)},T=(w,m)=>{i.value.ingredient=m,i.value.show=!0};return(w,m)=>(G(),ae(ul,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=v=>l.value=v),position:"bottom"},{default:L(()=>[I(Mt,{style:{width:"350px"},class:"q-pa-sm"},{default:L(()=>[I(_t,null,{default:L(()=>[I(Ct,null,{default:L(()=>[(G(!0),Me(Te,null,Ne(o.value,v=>(G(),Me(Te,{key:v.dish._id},[I(ie,{header:""},{default:L(()=>[J(X(v.dish.title)+" ("+X(v.amount)+" Portionen)",1)]),_:2},1024),(G(!0),Me(Te,null,Ne(v.dish.ingredients,(_,E)=>(G(),ae(Ae,{key:E},{default:L(()=>[I(ee,{side:"",top:""},{default:L(()=>[I(ve,{size:"12px",flat:"",dense:"",round:"",color:"negative",icon:"remove_circle_outline",onClick:et(Z=>S(v,E),["stop"])},null,8,["onClick"])]),_:2},1024),I(ee,{clickable:"",onClick:Z=>g(v,_)},{default:L(()=>[I(ie,null,{default:L(()=>[J(X(_.name)+" ",1),_.subdish?(G(),ae(tt,{key:0,class:"q-mx-sm",color:"secondary"},{default:L(()=>[J(X(_.subdish),1)]),_:2},1024)):Ee("",!0),_.optional?(G(),ae(tt,{key:1,class:"q-mx-sm"},{default:L(()=>[J("Optional")]),_:1})):Ee("",!0)]),_:2},1024),I(ie,{caption:""},{default:L(()=>[J(X(_.amount.value)+" "+X(_.amount.unit),1)]),_:2},1024)]),_:2},1032,["onClick"]),I(ee,{side:"",top:""},{default:L(()=>[I(Qn,{removable:"","model-value":!!_.due,onRemove:Z=>_.due=null,class:"q-mx-sm",outline:"",color:"primary","text-color":"white"},{default:L(()=>[J(X(_.due.fromNow()),1)]),_:2},1032,["model-value","onRemove"]),_.due?Ee("",!0):(G(),ae(ve,{key:0,size:"12px",flat:"",dense:"",round:"",icon:"trending_flat",onClick:et(Z=>T(v,_),["stop"])},null,8,["onClick"]))]),_:2},1024)]),_:2},1024))),128)),I(Ae,{clickable:"",onClick:_=>y(v)},{default:L(()=>[I(ee,{side:"",top:""},{default:L(()=>[I(ve,{size:"12px",flat:"",dense:"",round:"",color:"primary",icon:"add_circle_outline"})]),_:1}),I(ee,null,{default:L(()=>[I(ie,null,{default:L(()=>[J("Add ingredient...")]),_:1})]),_:1})]),_:2},1032,["onClick"])],64))),128))]),_:1})]),_:1}),I(Ve,{inset:""}),I(Nn,{align:"right"},{default:L(()=>[I(ve,{flat:"",color:"primary",label:"Add to list",onClick:h})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},cl={class:"text-grey-8 q-gutter-xs flex items-center"},fl=Ke("span",{class:"text-bold"},"Zutaten pro Portion:",-1),kl=Object.assign({name:"ListPage"},{__name:"menu.page",setup(e){an();const t=bt("notify"),l=nn();O(!1);const n=O(!0),a=O(""),o=O({show:!1,dishes:[]}),i=sn(),b=O([]),C=function(S){S.amount=S.amount==0?S.dish.standardAmount:S.amount+1,n.value=!1},h=function(S){S.amount-=1,n.value=Re.sum(b.value.map(T=>T.amount))==0},y=()=>{o.value.dishes=Re.cloneDeep(b.value.filter(S=>S.amount>0)),o.value.dishes.forEach(S=>{S.dish.ingredients.forEach(T=>{T.amount.value=T.amount.unit!=null?T.amount.value*S.amount:T.amount.value})}),o.value.show=!0},g=()=>{t("Ingredients added to list!",{actions:[{label:"Show",color:"white",handler:()=>{l.push("/list")}}]}),b.value.forEach(S=>S.amount=0),n.value=!0};return Ie(async()=>{await i.fetchMenu(),b.value=i.menu.dishes.map(S=>({dish:S,amount:0}))}),(S,T)=>(G(),ae(dn,null,{default:L(()=>[b.value.length>0?(G(),ae(Ct,{key:0,class:"q-pt-md"},{default:L(()=>[I(Ae,{class:"flex justify-center"},{default:L(()=>[I(On,{modelValue:a.value,"onUpdate:modelValue":T[0]||(T[0]=w=>a.value=w),standout:"",rounded:"",dense:"",clearable:"",placeholder:"Mmmmhhhes Schompf",style:{width:"60%","min-width":"300px"}},{prepend:L(()=>[I(re,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),(G(!0),Me(Te,null,Ne(b.value,w=>(G(),ae(Hn,{"expand-icon-toggle":"","switch-toggle-side":"",key:w.dish.id,"content-inset-level":1},{header:L(()=>[I(ee,null,{default:L(()=>[I(ie,null,{default:L(()=>[J(X(w.dish.title),1)]),_:2},1024),I(ie,{caption:""},{default:L(()=>[J("\xDCbliche Menge: "+X(w.dish.standardAmount),1)]),_:2},1024)]),_:2},1024),I(ee,{side:""},{default:L(()=>[Ke("div",cl,[I(ve,{color:"red",disable:w.amount==0,flat:"",round:"",icon:"remove",onClick:m=>h(w)},null,8,["disable","onClick"]),Ke("span",null,X(w.amount),1),I(ve,{color:"green",flat:"",round:"",icon:"add",onClick:m=>C(w)},null,8,["onClick"])])]),_:2},1024)]),default:L(()=>[I(Mt,null,{default:L(()=>[I(_t,null,{default:L(()=>[fl,J(" "+X(w.dish.ingredients.join(", ")),1)]),_:2},1024),I(Ve,{inset:""})]),_:2},1024)]),_:2},1024))),128))]),_:1})):Ee("",!0),I(rn,{position:"bottom",offset:[0,18],style:{"z-index":"6000"}},{default:L(()=>[I(ve,{fab:"",icon:"checklist",color:"accent",onClick:y,disabled:n.value},null,8,["disabled"])]),_:1}),I(dl,{"model-value":o.value.show,"onUpdate:modelValue":T[1]||(T[1]=w=>o.value.show=w),dishes:o.value.dishes,onAdd:g},null,8,["model-value","dishes"])]),_:1}))}});export{kl as default};
