import{Q as z,n as ue,p as A,o as K,q as Q,f as ve,i as fe,j as pe,k as he,l as ge,m as _e}from"./QInput.9dd4e1fc.js";import{b as G,d as ke,c as Ve,a as be}from"./store.75d0bde2.js";import{Q as de}from"./QPage.a3950ce8.js";import{b5 as F,bv as W,r as S,G as g,H as B,I as l,J as e,aI as U,b_ as O,Q as P,c0 as D,aO as _,x as xe,aH as j,aw as L,bi as Y,ao as T,b$ as oe,M as Z,a as q,h as R,cs as Ce,n as ye,d as we,ct as Ie,g as $e,s as ie,ae as H,c as Se,i as De,cu as qe,j as Qe,L as Ue}from"./index.0ffad2cd.js";import{Q as Ae}from"./QExpansionItem.a3bbafad.js";import{Q as X,_ as E,a as Te}from"./QDialog.1781f167.js";import{b as ee,Q as le,a as te,r as ze,c as ne}from"./QCard.2303bbdb.js";import{d as re}from"./dayjs.min.0eaccaa1.js";import"./axios.ab682c6b.js";import"./notify.b0fea896.js";import"./scroll.890c71da.js";const Me={class:"q-px-md"},Be={class:"q-gutter-y-xs column"},Ee={__name:"addIngredient.dialog.component",props:{modelValue:{},modelModifiers:{}},emits:F(["add"],["update:modelValue"]),setup(d,{emit:I}){const t=W(d,"modelValue"),k=I,i=S({name:"",amount:{value:null,unit:""}}),a=()=>{t.value=!1,i.value.amount.value==""&&i.value.amount.unit==""&&(i.value.amount={value:null,unit:null}),k("add",E.cloneDeep(i.value))},c=()=>{i.value={name:"",amount:{value:null,unit:""}}};return(h,v)=>(g(),B(X,{modelValue:t.value,"onUpdate:modelValue":v[3]||(v[3]=m=>t.value=m),position:"bottom",onHide:c},{default:l(()=>[e(ee,{style:{width:"350px"},class:"q-px-md"},{default:l(()=>[e(le,null,{default:l(()=>[U("div",Me,[U("div",Be,[e(z,{class:"text-body1",borderless:"",modelValue:i.value.name,"onUpdate:modelValue":v[0]||(v[0]=m=>i.value.name=m),dense:"",placeholder:"Title",autofocus:"",onKeyup:O(a,["enter"])},null,8,["modelValue"]),e(z,{borderless:"",modelValue:i.value.amount.value,"onUpdate:modelValue":v[1]||(v[1]=m=>i.value.amount.value=m),dense:"",placeholder:"Value",onKeyup:O(a,["enter"])},{prepend:l(()=>[e(P,{size:"xs",name:"123"})]),_:1},8,["modelValue"]),e(z,{borderless:"",modelValue:i.value.amount.unit,"onUpdate:modelValue":v[2]||(v[2]=m=>i.value.amount.unit=m),dense:"",placeholder:"Unit",onKeyup:O(a,["enter"])},{prepend:l(()=>[e(P,{size:"xs",name:"category"})]),_:1},8,["modelValue"])])])]),_:1}),e(te,{align:"right"},{default:l(()=>[e(D,{flat:"",color:"primary",disable:!i.value.name,onClick:a},{default:l(()=>[_("Add")]),_:1},8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},je={class:"q-px-md"},Oe={class:"q-gutter-y-xs column"},Ke={__name:"editIngredient.dialog.component",props:F({ingredient:Object},{modelValue:{},modelModifiers:{}}),emits:F(["save"],["update:modelValue"]),setup(d,{emit:I}){const t=W(d,"modelValue"),k=d,i=I,a=S(E.cloneDeep(k.ingredient)),c=()=>{a.value=E.cloneDeep(k.ingredient)},h=()=>{a.value={name:"",amount:{value:null,unit:""}}},v=()=>{t.value=!1,a.value.amount.value==""&&a.value.amount.unit==""&&(a.value.amount={value:null,unit:null}),i("save",E.cloneDeep(a.value))};return(m,f)=>(g(),B(X,{modelValue:t.value,"onUpdate:modelValue":f[3]||(f[3]=$=>t.value=$),position:"bottom",onHide:h,onBeforeShow:c},{default:l(()=>[e(ee,{style:{width:"350px"},class:"q-px-md"},{default:l(()=>[e(le,null,{default:l(()=>[U("div",je,[U("div",Oe,[e(z,{class:"text-body1",borderless:"",modelValue:a.value.name,"onUpdate:modelValue":f[0]||(f[0]=$=>a.value.name=$),dense:"",placeholder:"Title",autofocus:""},null,8,["modelValue"]),e(z,{borderless:"",modelValue:a.value.amount.value,"onUpdate:modelValue":f[1]||(f[1]=$=>a.value.amount.value=$),dense:"",placeholder:"Value"},{prepend:l(()=>[e(P,{size:"xs",name:"123"})]),_:1},8,["modelValue"]),e(z,{borderless:"",modelValue:a.value.amount.unit,"onUpdate:modelValue":f[2]||(f[2]=$=>a.value.amount.unit=$),dense:"",placeholder:"Unit"},{prepend:l(()=>[e(P,{size:"xs",name:"category"})]),_:1},8,["modelValue"])])])]),_:1}),e(te,{align:"right"},{default:l(()=>[e(D,{flat:"",color:"primary",disable:!a.value.name,onClick:v},{default:l(()=>[_("Save")]),_:1},8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Le={__name:"chooseIngredients.dialog.component",props:F({dishes:Array},{modelValue:{},modelModifiers:{}}),emits:F(["add","back"],["update:modelValue"]),setup(d,{emit:I}){re.extend(ze);const t=W(d,"modelValue"),k=d,i=I,a=S(E.cloneDeep(k.dishes)),c=S({show:!1,dish:null,ingredient:{}}),h=S({show:!1,dish:null,ingredient:null});xe(()=>k.dishes,u=>{a.value=E.cloneDeep(u)});const v=()=>{const u=a.value.flatMap(y=>y.dish.ingredients);i("add",u),t.value=!1},m=()=>{i("back"),t.value=!1},f=u=>{c.value.dish=u,c.value.show=!0},$=u=>{c.value.dish.dish.ingredients.push(u)},x=(u,y,V)=>{h.value.dish=u,h.value.ingredient=y,h.value.show=!0},C=u=>{h.value.ingredient.name=u.name,h.value.ingredient.amount=u.amount},s=async(u,y)=>{u.dish.ingredients.splice(y,1)},M=u=>{u.due?u.due=u.due.add(1,"d"):u.due=re().add(1,"d")};return(u,y)=>(g(),j(L,null,[e(X,{modelValue:t.value,"onUpdate:modelValue":y[0]||(y[0]=V=>t.value=V),position:"bottom"},{default:l(()=>[e(ee,{style:{width:"350px"},class:"q-pa-sm"},{default:l(()=>[e(le,null,{default:l(()=>[e(ue,null,{default:l(()=>[(g(!0),j(L,null,Y(a.value,V=>(g(),j(L,{key:V.dish._id},[e(A,{header:""},{default:l(()=>[_(T(V.dish.title)+" ("+T(V.amount)+" Portionen)",1)]),_:2},1024),(g(!0),j(L,null,Y(V.dish.ingredients,(w,J)=>(g(),B(K,{key:J},{default:l(()=>[e(Q,{side:"",top:""},{default:l(()=>[e(D,{size:"12px",flat:"",dense:"",round:"",color:"negative",icon:"remove_circle_outline",onClick:oe(o=>s(V,J),["stop"])},null,8,["onClick"])]),_:2},1024),e(Q,{clickable:"",onClick:o=>x(V,w)},{default:l(()=>[e(A,null,{default:l(()=>[_(T(w.name)+" ",1),w.subdish?(g(),B(ne,{key:0,class:"q-mx-sm",color:"secondary"},{default:l(()=>[_(T(w.subdish),1)]),_:2},1024)):Z("",!0),w.optional?(g(),B(ne,{key:1,class:"q-mx-sm"},{default:l(()=>[_("Optional")]),_:1})):Z("",!0),w.due?(g(),B(ne,{key:2,class:"q-mx-sm text-white",color:"accent",onClick:oe(o=>w.due=null,["stop"])},{default:l(()=>[_(T(w.due.fromNow()),1)]),_:2},1032,["onClick"])):Z("",!0)]),_:2},1024),e(A,{caption:""},{default:l(()=>[_(T(w.amount.value)+" "+T(w.amount.unit),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(Q,{side:""},{default:l(()=>[e(D,{size:"12px",flat:"",dense:"",round:"",icon:"trending_flat",onClick:oe(o=>M(w),["stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128)),e(K,{clickable:"",onClick:w=>f(V)},{default:l(()=>[e(Q,{side:"",top:""},{default:l(()=>[e(D,{size:"12px",flat:"",dense:"",round:"",color:"primary",icon:"add_circle_outline"})]),_:1}),e(Q,null,{default:l(()=>[e(A,null,{default:l(()=>[_("Add ingredient...")]),_:1})]),_:1})]),_:2},1032,["onClick"])],64))),128))]),_:1})]),_:1}),e(G,{inset:""}),e(te,{align:"right"},{default:l(()=>[e(D,{flat:"",color:"negative",label:"Back",onClick:m}),e(D,{flat:"",color:"primary",label:"Add to list",onClick:v})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Ee,{modelValue:c.value.show,"onUpdate:modelValue":y[1]||(y[1]=V=>c.value.show=V),onAdd:$},null,8,["modelValue"]),e(Ke,{modelValue:h.value.show,"onUpdate:modelValue":y[2]||(y[2]=V=>h.value.show=V),ingredient:h.value.ingredient,onSave:C},null,8,["modelValue","ingredient"])],64))}};function Pe(d,I){const t=S(null),k=q(()=>d.disable===!0?null:R("span",{ref:t,class:"no-outline",tabindex:-1}));function i(a){const c=I.value;a!==void 0&&a.type.indexOf("key")===0?c!==null&&document.activeElement!==c&&c.contains(document.activeElement)===!0&&c.focus():t.value!==null&&(a===void 0||c!==null&&c.contains(a.target)===!0)&&t.value.focus()}return{refocusTargetEl:k,refocusTarget:i}}var Ne={xs:30,sm:35,md:40,lg:50,xl:60};const Re={...Ve,...Ie,...ve,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:d=>d==="tf"||d==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Fe=["update:modelValue"];function He(d,I){const{props:t,slots:k,emit:i,proxy:a}=$e(),{$q:c}=a,h=ke(t,c),v=S(null),{refocusTargetEl:m,refocusTarget:f}=Pe(t,v),$=Ce(t,Ne),x=q(()=>t.val!==void 0&&Array.isArray(t.modelValue)),C=q(()=>{const r=H(t.val);return x.value===!0?t.modelValue.findIndex(N=>H(N)===r):-1}),s=q(()=>x.value===!0?C.value!==-1:H(t.modelValue)===H(t.trueValue)),M=q(()=>x.value===!0?C.value===-1:H(t.modelValue)===H(t.falseValue)),u=q(()=>s.value===!1&&M.value===!1),y=q(()=>t.disable===!0?-1:t.tabindex||0),V=q(()=>`q-${d} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(h.value===!0?` q-${d}--dark`:"")+(t.dense===!0?` q-${d}--dense`:"")+(t.leftLabel===!0?" reverse":"")),w=q(()=>{const r=s.value===!0?"truthy":M.value===!0?"falsy":"indet",N=t.color!==void 0&&(t.keepColor===!0||(d==="toggle"?s.value===!0:M.value!==!0))?` text-${t.color}`:"";return`q-${d}__inner relative-position non-selectable q-${d}__inner--${r}${N}`}),J=q(()=>{const r={type:"checkbox"};return t.name!==void 0&&Object.assign(r,{".checked":s.value,"^checked":s.value===!0?"checked":void 0,name:t.name,value:x.value===!0?t.val:t.trueValue}),r}),o=fe(J),p=q(()=>{const r={tabindex:y.value,role:d==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":u.value===!0?"mixed":s.value===!0?"true":"false"};return t.disable===!0&&(r["aria-disabled"]="true"),r});function n(r){r!==void 0&&(ie(r),f(r)),t.disable!==!0&&i("update:modelValue",b(),r)}function b(){if(x.value===!0){if(s.value===!0){const r=t.modelValue.slice();return r.splice(C.value,1),r}return t.modelValue.concat([t.val])}if(s.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(M.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function ae(r){(r.keyCode===13||r.keyCode===32)&&ie(r)}function ce(r){(r.keyCode===13||r.keyCode===32)&&n(r)}const me=I(s,u);return Object.assign(a,{toggle:n}),()=>{const r=me();t.disable!==!0&&o(r,"unshift",` q-${d}__native absolute q-ma-none q-pa-none`);const N=[R("div",{class:w.value,style:$.value,"aria-hidden":"true"},r)];m.value!==null&&N.push(m.value);const se=t.label!==void 0?ye(k.default,[t.label]):we(k.default);return se!==void 0&&N.push(R("div",{class:`q-${d}__label q-anchor--skip`},se)),R("div",{ref:v,class:V.value,...p.value,onClick:n,onKeydown:ae,onKeyup:ce},N)}}var Ze=Se({name:"QToggle",props:{...Re,icon:String,iconColor:String},emits:Fe,setup(d){function I(t,k){const i=q(()=>(t.value===!0?d.checkedIcon:k.value===!0?d.indeterminateIcon:d.uncheckedIcon)||d.icon),a=q(()=>t.value===!0?d.iconColor:null);return()=>[R("div",{class:"q-toggle__track"}),R("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},i.value!==void 0?[R(P,{name:i.value,color:a.value})]:void 0)]}return He("toggle",I)}});const Je={class:"row q-col-gutter-sm items-center"},Ge={class:"col-6"},Ye={class:"col-6"},We={__name:"editDish.dialog.component",props:F({dish:Object},{modelValue:{},modelModifiers:{}}),emits:F(["save","back"],["update:modelValue"]),setup(d,{emit:I}){const t=W(d,"modelValue"),k=d,i=I,a=S(E.cloneDeep(k.dish)),c=()=>{a.value=E.cloneDeep(k.dish)},h=()=>{a.value.ingredients.push({name:"",amount:{value:null,unit:""}})},v=x=>{a.value.ingredients.splice(x,1)},m=()=>{a.value={title:"",ingredients:[],standardAmount:0}},f=()=>{t.value=!1,a.value.ingredients.forEach(x=>{!x.amount&&!x.amount.unit&&(x.amount={value:null,unit:null})}),i("save",E.cloneDeep(a.value))},$=()=>{t.value=!1,i("back")};return(x,C)=>(g(),B(X,{modelValue:t.value,"onUpdate:modelValue":C[3]||(C[3]=s=>t.value=s),position:"bottom",onBeforeShow:c,onHide:m},{default:l(()=>[e(ee,{style:{width:"350px"}},{default:l(()=>[e(le,null,{default:l(()=>[e(ue,null,{default:l(()=>[e(A,{header:""},{default:l(()=>[_("Name")]),_:1}),e(K,null,{default:l(()=>[e(z,{class:"text-body1",borderless:"",modelValue:a.value.title,"onUpdate:modelValue":C[0]||(C[0]=s=>a.value.title=s),dense:"",placeholder:"Name",autofocus:"",onKeyup:O(f,["enter"])},null,8,["modelValue"])]),_:1}),e(A,{header:""},{default:l(()=>[_("Zutaten")]),_:1}),(g(!0),j(L,null,Y(a.value.ingredients,(s,M)=>(g(),j(L,{key:M},[e(K,null,{default:l(()=>[e(Q,{side:""},{default:l(()=>[e(D,{flat:"",dense:"",round:"",color:"negative",icon:"remove_circle_outline",size:"sm",onClick:u=>v(M)},null,8,["onClick"])]),_:2},1024),e(Q,null,{default:l(()=>[e(A,null,{default:l(()=>[e(z,{modelValue:s.name,"onUpdate:modelValue":u=>s.name=u,filled:"",dense:"",placeholder:"Title",autofocus:"",onKeyup:O(f,["enter"])},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(A,null,{default:l(()=>[U("div",Je,[U("div",Ge,[e(z,{modelValue:s.amount.value,"onUpdate:modelValue":u=>s.amount.value=u,filled:"",dense:"",onKeyup:O(f,["enter"])},{prepend:l(()=>[e(P,{size:"xs",name:"123"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),U("div",Ye,[e(z,{modelValue:s.amount.unit,"onUpdate:modelValue":u=>s.amount.unit=u,filled:"",dense:"",onKeyup:O(f,["enter"])},{prepend:l(()=>[e(P,{size:"xs",name:"category"})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024)]),_:2},1024),e(Q,{side:""},{default:l(()=>[e(Ze,{dense:"",modelValue:s.optional,"onUpdate:modelValue":u=>s.optional=u,icon:"low_priority",color:"primary"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(G,{inset:""})],64))),128)),e(K,{clickable:"",onClick:h},{default:l(()=>[e(Q,{side:"",top:""},{default:l(()=>[e(D,{size:"12px",flat:"",dense:"",round:"",color:"primary",icon:"add_circle_outline"})]),_:1}),e(Q,null,{default:l(()=>[e(A,null,{default:l(()=>[_("Add ingredient...")]),_:1})]),_:1})]),_:1}),e(A,{header:""},{default:l(()=>[_("\xDCbliche Menge")]),_:1}),e(K,null,{default:l(()=>[e(z,{borderless:"",modelValue:a.value.standardAmount,"onUpdate:modelValue":C[1]||(C[1]=s=>a.value.standardAmount=s),dense:"",placeholder:"\xDCbliche Menge",autofocus:"",onKeyup:O(f,["enter"])},null,8,["modelValue"])]),_:1}),e(A,{header:""},{default:l(()=>[_("Rezept")]),_:1}),e(K,null,{default:l(()=>[e(z,{borderless:"",modelValue:a.value.recipe,"onUpdate:modelValue":C[2]||(C[2]=s=>a.value.recipe=s),dense:"",placeholder:"https://rezepte.de/rezept",onKeyup:O(f,["enter"])},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(te,{align:"right"},{default:l(()=>{var s;return[e(D,{flat:"",color:"negative",label:"Back",onClick:$}),e(D,{flat:"",color:"primary",disable:((s=a.value.ingredients)==null?void 0:s.length)==0,onClick:f},{default:l(()=>[_("Save")]),_:1},8,["disable"])]}),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Xe={class:"text-grey-8 q-gutter-xs flex items-center"},el=U("span",{class:"text-bold"},"Zutaten pro Portion:",-1),ll={key:0,class:"q-mt-md"},tl=U("span",{class:"text-bold"},"Sub-dishes:",-1),al={key:1,class:"q-mt-md"},ol=U("span",{class:"text-bold"},"Zept:",-1),nl=["href"],gl=Object.assign({name:"MenuPage"},{__name:"menu.page",setup(d,{expose:I}){const t=De("notify"),k=qe(),i=S(!0),a=S(""),c=S({show:!1,dishes:[]}),h=S({show:!1,dish:{}}),v=be(),m=S([]),f=S(null),$=S(null),x=function(o){o.amount=o.amount==0?o.dish.standardAmount:o.amount+1,i.value=!1},C=function(o){o.amount-=1,i.value=E.sum(m.value.map(p=>p.amount))==0},s=()=>{c.value.dishes=E.cloneDeep(m.value.filter(o=>o.amount>0)),c.value.dishes.forEach(o=>{var p;o.dish.ingredients.forEach(n=>{n.amount.value=n.amount.unit!=null?n.amount.value*o.amount:n.amount.value}),(p=o.dish.subdishes)==null||p.forEach(n=>{n.dish=m.value.find(b=>b.dish.id==n.dish).dish,n.dish.ingredients.forEach(b=>{o.dish.ingredients.push({name:b.name,amount:{value:b.amount.value!=null?b.amount.value*o.amount*n.amountFactor:null,unit:b.amount.unit},optional:b.optional||n.optional,subdish:n.dish.title})})})}),c.value.show=!0},M=async o=>{await v.addToList(o)&&t("Ingredients added to list!",{actions:[{label:"Show",color:"white",handler:()=>{k.push("/list")}}]}),m.value.forEach(p=>p.amount=0),i.value=!0},u=o=>{h.value.dish=o,h.value.show=!0},y=async o=>{await v.editDish(o)&&t(`${o.title} edited!`)};Qe(async()=>{await v.fetchMenu(),m.value=v.menu.dishes.filter(o=>o.completed).map(o=>({dish:o,amount:0})).sort((o,p)=>o.dish.title.localeCompare(p.dish.title))});const V=q(()=>a.value?m.value.filter(o=>JSON.stringify(o.dish).toLowerCase().includes(a.value.toLowerCase())):m.value),w=o=>{let p=o.optional?"[optional] ":"";return o.amount.unit==null?p+=o.name:o.amount.unit==""?p+=`${o.amount.value} ${o.name}`:p+=`${o.amount.value} ${o.amount.unit} ${o.name}`,p};return I({onClickTab:()=>{window.scrollY>0?window.scrollTo({top:0,behavior:"smooth"}):f.value.focus()}}),(o,p)=>(g(),j(L,null,[e(pe,{class:"q-py-sm bg-white text-primary"},{default:l(()=>[e(he,null,{default:l(()=>[e(ge,{class:"text-center text-weight-bold"},{default:l(()=>[_(" Menu ")]),_:1})]),_:1}),e(G)]),_:1}),Ue(v).status=="loading"?(g(),B(de,{key:0,class:"flex flex-center"},{default:l(()=>[e(_e,{color:"primary",size:"xl"})]),_:1})):(g(),B(de,{key:1,ref_key:"dishList",ref:$},{default:l(()=>[m.value.length>0?(g(),B(ue,{key:0},{default:l(()=>[e(K,{class:"flex justify-center"},{default:l(()=>[e(z,{modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=n=>a.value=n),ref_key:"searchInput",ref:f,standout:"",rounded:"",dense:"",clearable:"",placeholder:"Mmmmhhhes Schompf",style:{width:"60%","min-width":"300px"}},{prepend:l(()=>[e(P,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),(g(!0),j(L,null,Y(V.value,n=>(g(),B(Ae,{"expand-icon-toggle":"","switch-toggle-side":"",key:n.dish.id,"content-inset-level":1},{header:l(()=>[e(Q,null,{default:l(()=>[e(A,null,{default:l(()=>[_(T(n.dish.title),1)]),_:2},1024),e(A,{caption:""},{default:l(()=>[_("\xDCbliche Menge: "+T(n.dish.standardAmount),1)]),_:2},1024)]),_:2},1024),e(Q,{side:""},{default:l(()=>[U("div",Xe,[e(D,{color:"red",disable:n.amount==0,flat:"",round:"",icon:"remove",onClick:b=>C(n)},null,8,["disable","onClick"]),U("span",null,T(n.amount),1),e(D,{color:"green",flat:"",round:"",icon:"add",onClick:b=>x(n)},null,8,["onClick"])])]),_:2},1024)]),default:l(()=>[e(K,null,{default:l(()=>[e(Q,null,{default:l(()=>[U("div",null,[el,_(" "+T(n.dish.ingredients.map(b=>w(b)).join(", ")),1)]),n.dish.subdishes&&n.dish.subdishes.length>0?(g(),j("div",ll,[tl,_(" "+T(n.dish.subdishes.map(b=>`${m.value.find(ae=>ae.dish.id==b.dish).dish.title} (Menge: ${b.amountFactor})`).join(", ")),1)])):Z("",!0),n.dish.recipe?(g(),j("div",al,[ol,_(),U("a",{href:n.dish.recipe,target:"_blank"},T(n.dish.title),9,nl)])):Z("",!0)]),_:2},1024),e(Q,{side:""},{default:l(()=>[e(D,{flat:"",round:"",icon:"edit",onClick:b=>u(n.dish)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),e(G,{inset:""})]),_:2},1024))),128))]),_:1})):Z("",!0),e(Te,{position:"bottom",offset:[0,-28],style:{"z-index":"6000"}},{default:l(()=>[e(D,{fab:"",icon:"checklist",color:"accent",onClick:s,disabled:i.value},null,8,["disabled"])]),_:1}),e(Le,{"model-value":c.value.show,"onUpdate:modelValue":p[1]||(p[1]=n=>c.value.show=n),dishes:c.value.dishes,onAdd:M},null,8,["model-value","dishes"]),e(We,{modelValue:h.value.show,"onUpdate:modelValue":p[2]||(p[2]=n=>h.value.show=n),dish:h.value.dish,onSave:y},null,8,["modelValue","dish"])]),_:1},512))],64))}});export{gl as default};
